!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).regira={})}(this,(function(t){"use strict";function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function r(t,r){if(t){if("string"==typeof t)return e(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?e(t,r):void 0}}function n(t){return function(t){if(Array.isArray(t))return e(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||r(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(t,e,r,n,u,a,o){try{var i=t[a](o),s=i.value}catch(t){return void r(t)}i.done?e(s):Promise.resolve(s).then(n,u)}function a(t){return function(){var e=this,r=arguments;return new Promise((function(n,a){var o=t.apply(e,r);function i(t){u(o,n,a,i,s,"next",t)}function s(t){u(o,n,a,i,s,"throw",t)}i(void 0)}))}}function o(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function c(t,e,r){return e&&s(t.prototype,e),r&&s(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}var l=function(t,e){return t(e={exports:{}},e.exports),e.exports}((function(t){var e=function(t){var e,r=Object.prototype,n=r.hasOwnProperty,u="function"==typeof Symbol?Symbol:{},a=u.iterator||"@@iterator",o=u.asyncIterator||"@@asyncIterator",i=u.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function c(t,e,r,n){var u=e&&e.prototype instanceof g?e:g,a=Object.create(u.prototype),o=new j(n||[]);return a._invoke=function(t,e,r){var n=f;return function(u,a){if(n===h)throw new Error("Generator is already running");if(n===d){if("throw"===u)throw a;return B()}for(r.method=u,r.arg=a;;){var o=r.delegate;if(o){var i=F(o,r);if(i){if(i===v)continue;return i}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===f)throw n=d,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=h;var s=l(t,e,r);if("normal"===s.type){if(n=r.done?d:p,s.arg===v)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n=d,r.method="throw",r.arg=s.arg)}}}(t,r,o),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var f="suspendedStart",p="suspendedYield",h="executing",d="completed",v={};function g(){}function y(){}function m(){}var b={};s(b,a,(function(){return this}));var w=Object.getPrototypeOf,E=w&&w(w(D([])));E&&E!==r&&n.call(E,a)&&(b=E);var A=m.prototype=g.prototype=Object.create(b);function x(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function r(u,a,o,i){var s=l(t[u],t,a);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,o,i)}),(function(t){r("throw",t,o,i)})):e.resolve(f).then((function(t){c.value=t,o(c)}),(function(t){return r("throw",t,o,i)}))}i(s.arg)}var u;this._invoke=function(t,n){function a(){return new e((function(e,u){r(t,n,e,u)}))}return u=u?u.then(a,a):a()}}function F(t,r){var n=t.iterator[r.method];if(n===e){if(r.delegate=null,"throw"===r.method){if(t.iterator.return&&(r.method="return",r.arg=e,F(t,r),"throw"===r.method))return v;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var u=l(n,t.iterator,r.arg);if("throw"===u.type)return r.method="throw",r.arg=u.arg,r.delegate=null,v;var a=u.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function D(t){if(t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var u=-1,o=function r(){for(;++u<t.length;)if(n.call(t,u))return r.value=t[u],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}return{next:B}}function B(){return{value:e,done:!0}}return y.prototype=m,s(A,"constructor",m),s(m,"constructor",y),y.displayName=s(m,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,s(t,i,"GeneratorFunction")),t.prototype=Object.create(A),t},t.awrap=function(t){return{__await:t}},x(k.prototype),s(k.prototype,o,(function(){return this})),t.AsyncIterator=k,t.async=function(e,r,n,u,a){void 0===a&&(a=Promise);var o=new k(c(e,r,n,u),a);return t.isGeneratorFunction(r)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},x(A),s(A,i,"Generator"),s(A,a,(function(){return this})),s(A,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=D,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function u(n,u){return i.type="throw",i.arg=t,r.next=n,u&&(r.method="next",r.arg=e),!!u}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return u("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return u(o.catchLoc,!0);if(this.prev<o.finallyLoc)return u(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return u(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return u(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var u=this.tryEntries[r];if(u.tryLoc<=this.prev&&n.call(u,"finallyLoc")&&this.prev<u.finallyLoc){var a=u;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=t,o.arg=e,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),C(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var u=n.arg;C(r)}return u}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:D(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}(t.exports);try{regeneratorRuntime=e}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}})),f=l,p=c((function t(e,r,n){var u=this;i(this,t),this.type=e,this.src=r,null!=n&&Object.keys(n).forEach((function(t){t in u||(u[t]=n[t])}))})),h=function(t){var e=t[0],r=t.splice(0,1)[0],n=r.callback||t[t.length-1],u=r.constraint||(t.length>2?t.splice(0,1).find((function(t){return t!==n&&"function"==typeof t})):void 0),a=r.scope;return{key:e||"",constraint:u,callback:n,thisScope:a}};function d(t){var e=this;t.key.split(" ").forEach((function(r){r in e.listeners||(e.listeners[r]=[]);var n={constraint:t.constraint,callback:t.callback,scope:t.thisScope,once:t.once};e.listeners[r].push(n)}))}var g=c((function t(){i(this,t)}));function y(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function m(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?y(Object(r),!0).forEach((function(e){o(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}g.injectInto=function(t){var e;Object.defineProperties(t,{listeners:{get:function(){return"_listeners"in this||Object.defineProperty(this,"_listeners",{value:{}}),this._listeners}},on:{value:function(){var t=h(Array.prototype.slice.call(arguments));return d.call(this,t),this},configurable:!0},once:{value:function(){var t=h(Array.prototype.slice.call(arguments));return t.once=!0,d.call(this,t),this},configurable:!0},off:{value:function(t,e){if(this.listeners[t]){if(this.listeners[t].length&&"function"==typeof e){var r=this.listeners[t].findIndex((function(t){return t.callback===e}));r>=0&&this.listeners[t].splice(r,1)}this.listeners[t].length&&null!=e||delete this.listeners[t]}return this},configurable:!0},trigger:{value:(e=a(f.mark((function t(e,r){var n,u,a,o;return f.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=this,u="string"==typeof e?new p(e):e,a=[],o=(n.listeners[u.type]||[]).concat(n.listeners[""]).filter((function(t){return t&&(null==t.constraint||t.constraint.call(t.scope||n,e,r))})).map((function(t){return t.once&&n.off(u.type,t.callback),function(){try{var e=t.callback.call(t.scope||n,u,r||{});return Promise.resolve(e)}catch(e){return console.error("Executing listener failed",{error:e,event:u,listener:t.callback}),Promise.resolve(e)}}})),t.abrupt("return",o.reduce((function(t,e){return t.then(e).then((function(t){return a.push(t),t}))}),Promise.resolve()).then((function(){return a})));case 5:case"end":return t.stop()}}),t,this)}))),function(t,r){return e.apply(this,arguments)}),configurable:!0}})},g.injectInto(g.prototype);var b=function(){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.enableCount,u=void 0===n||n,a=r.defaults,o=void 0===a?{searchObject:{}}:a;i(this,t),this._defaults=m({},o),this._service=e,this.state={details:void 0,items:void 0,count:void 0,searchObject:this._defaults.searchObject},this.reset(),this._enableCount=!!u}var e,r,u,o,s;return c(t,[{key:"details",value:function(){var t=a(f.mark((function t(e){var r,n,u,a=arguments;return f.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.state.details,n=[e].concat(Array.prototype.slice.call(a).slice(1)),t.next=4,this._service.details.apply(this._service,n);case 4:return u=t.sent,this.setDetails(u),t.next=8,this.trigger("change-details",{original:r,item:u});case 8:return t.abrupt("return",this.state.details);case 9:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"list",value:function(){var t=a(f.mark((function t(){var e,r,n,u,a=arguments;return f.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=a.length>0&&void 0!==a[0]?a[0]:{},r=this.state.items,this.setSearchObject(e),n=[this.state.searchObject].concat(Array.prototype.slice.call(a).slice(1)),t.next=6,this._service.list.apply(this._service,n);case 6:return u=t.sent,this.setItems(u),t.next=10,this.trigger("change-items",{original:r,items:u});case 10:return t.abrupt("return",this.state.items);case 11:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"count",value:(s=a(f.mark((function t(){var e,r,n,u,a=arguments;return f.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=a.length>0&&void 0!==a[0]?a[0]:{},r=this.state.count,this.setSearchObject(e),n=[this.state.searchObject].concat(Array.prototype.slice.call(a).slice(1)),t.next=6,this._service.count.apply(this._service,n);case 6:return u=t.sent,this.setCount(u),t.next=10,this.trigger("change-count",{original:r,count:u});case 10:return t.abrupt("return",this.state.count);case 11:case"end":return t.stop()}}),t,this)}))),function(){return s.apply(this,arguments)})},{key:"search",value:(o=a(f.mark((function t(){var e,r,n,u,a,o,i=arguments;return f.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=i.length>0&&void 0!==i[0]?i[0]:this.state.searchObject,r={searchObject:this.state.searchObject,items:this.state.items,count:this.state.count},this.setSearchObject(e),n=[this.state.searchObject].concat(Array.prototype.slice.call(i).slice(1)),u=void 0,!this._enableCount){t.next=10;break}return t.next=8,this._service.count.apply(this._service,n);case 8:u=t.sent,this.setCount(u);case 10:if(this._enableCount&&!(u>0)){t.next=16;break}return t.next=13,this._service.list.apply(this._service,n);case 13:t.t0=t.sent,t.next=17;break;case 16:t.t0=[];case 17:return a=t.t0,this.setItems(a),o={searchObject:e,items:a,count:u},t.next=22,this.trigger("search",{original:r,state:o});case 22:return t.abrupt("return",o);case 23:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})},{key:"save",value:(u=a(f.mark((function t(){var e,r,u,a,o,i,s=arguments;return f.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=s.length>0&&void 0!==s[0]?s[0]:null,r=e||this.state.details,u=[r].concat(Array.prototype.slice.call(s).slice(1)),t.next=5,this._service.save.apply(this._service,u);case 5:return a=t.sent,e&&e!==this.state.details||this.setDetails(a),null!=this.state.items&&(o=n(this.state.items),-1!==(i=o.findIndex((function(t){return t.id===r.id})))?o.splice(i,1,a):o.push(a),this.setItems(o)),t.next=10,this.trigger("save-item",{original:r,saved:a});case 10:return t.abrupt("return",a);case 11:case"end":return t.stop()}}),t,this)}))),function(){return u.apply(this,arguments)})},{key:"delete",value:(r=a(f.mark((function t(){var e,r,n,u,a=arguments;return f.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=a.length>0&&void 0!==a[0]?a[0]:null,r=e||this.state.details,n=[r].concat(Array.prototype.slice.call(a).slice(1)),t.next=5,this._service.delete.apply(this._service,n);case 5:return null!=this.state.items&&(u=this.state.items.filter((function(t){return t.id!==r.id})),this.setItems(u)),t.next=8,this.trigger("delete-item",{item:r});case 8:return t.abrupt("return",r);case 9:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})},{key:"newItem",value:(e=a(f.mark((function t(){var e;return f.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e={},t.abrupt("return",this.setDetails(e));case 2:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"setDetails",value:function(t){this.state.details=t}},{key:"setItems",value:function(t){this.state.items=t}},{key:"setCount",value:function(t){this.state.count=t}},{key:"setSearchObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.state.searchObject=t}},{key:"reset",value:function(){this.state.items=void 0,this.state.details=void 0,this.state.count=void 0,this.state.searchObject={}}}]),t}();g.injectInto(b.prototype);var w=function(t,e){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return t.apply(e,r)}},E=Object.prototype.toString;function A(t){return Array.isArray(t)}function x(t){return void 0===t}function k(t){return"[object ArrayBuffer]"===E.call(t)}function F(t){return null!==t&&"object"==typeof t}function O(t){if("[object Object]"!==E.call(t))return!1;var e=Object.getPrototypeOf(t);return null===e||e===Object.prototype}function C(t){return"[object Function]"===E.call(t)}function j(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),A(t))for(var r=0,n=t.length;r<n;r++)e.call(null,t[r],r,t);else for(var u in t)Object.prototype.hasOwnProperty.call(t,u)&&e.call(null,t[u],u,t)}var D={isArray:A,isArrayBuffer:k,isBuffer:function(t){return null!==t&&!x(t)&&null!==t.constructor&&!x(t.constructor)&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){return"[object FormData]"===E.call(t)},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&k(t.buffer)},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:F,isPlainObject:O,isUndefined:x,isDate:function(t){return"[object Date]"===E.call(t)},isFile:function(t){return"[object File]"===E.call(t)},isBlob:function(t){return"[object Blob]"===E.call(t)},isFunction:C,isStream:function(t){return F(t)&&C(t.pipe)},isURLSearchParams:function(t){return"[object URLSearchParams]"===E.call(t)},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:j,merge:function t(){var e={};function r(r,n){O(e[n])&&O(r)?e[n]=t(e[n],r):O(r)?e[n]=t({},r):A(r)?e[n]=r.slice():e[n]=r}for(var n=0,u=arguments.length;n<u;n++)j(arguments[n],r);return e},extend:function(t,e,r){return j(e,(function(e,n){t[n]=r&&"function"==typeof e?w(e,r):e})),t},trim:function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},stripBOM:function(t){return 65279===t.charCodeAt(0)&&(t=t.slice(1)),t}};function B(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var S=function(t,e,r){if(!e)return t;var n;if(r)n=r(e);else if(D.isURLSearchParams(e))n=e.toString();else{var u=[];D.forEach(e,(function(t,e){null!=t&&(D.isArray(t)?e+="[]":t=[t],D.forEach(t,(function(t){D.isDate(t)?t=t.toISOString():D.isObject(t)&&(t=JSON.stringify(t)),u.push(B(e)+"="+B(t))})))})),n=u.join("&")}if(n){var a=t.indexOf("#");-1!==a&&(t=t.slice(0,a)),t+=(-1===t.indexOf("?")?"?":"&")+n}return t};function T(){this.handlers=[]}T.prototype.use=function(t,e,r){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1},T.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},T.prototype.forEach=function(t){D.forEach(this.handlers,(function(e){null!==e&&t(e)}))};var R=T,P=void 0!==_?_:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},_=void 0!==P?P:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};function U(){throw new Error("setTimeout has not been defined")}function I(){throw new Error("clearTimeout has not been defined")}var L=U,N=I;function M(t){if(L===setTimeout)return setTimeout(t,0);if((L===U||!L)&&setTimeout)return L=setTimeout,setTimeout(t,0);try{return L(t,0)}catch(e){try{return L.call(null,t,0)}catch(e){return L.call(this,t,0)}}}"function"==typeof _.setTimeout&&(L=setTimeout),"function"==typeof _.clearTimeout&&(N=clearTimeout);var q,z=[],H=!1,J=-1;function W(){H&&q&&(H=!1,q.length?z=q.concat(z):J=-1,z.length&&G())}function G(){if(!H){var t=M(W);H=!0;for(var e=z.length;e;){for(q=z,z=[];++J<e;)q&&q[J].run();J=-1,e=z.length}q=null,H=!1,function(t){if(N===clearTimeout)return clearTimeout(t);if((N===I||!N)&&clearTimeout)return N=clearTimeout,clearTimeout(t);try{N(t)}catch(e){try{return N.call(null,t)}catch(e){return N.call(this,t)}}}(t)}}function V(t,e){this.fun=t,this.array=e}V.prototype.run=function(){this.fun.apply(null,this.array)};function K(){}var $=K,Z=K,Y=K,X=K,Q=K,tt=K,et=K;var rt=_.performance||{},nt=rt.now||rt.mozNow||rt.msNow||rt.oNow||rt.webkitNow||function(){return(new Date).getTime()};var ut=new Date;var at={nextTick:function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];z.push(new V(t,e)),1!==z.length||H||M(G)},title:"browser",browser:!0,env:{},argv:[],version:"",versions:{},on:$,addListener:Z,once:Y,off:X,removeListener:Q,removeAllListeners:tt,emit:et,binding:function(t){throw new Error("process.binding is not supported")},cwd:function(){return"/"},chdir:function(t){throw new Error("process.chdir is not supported")},umask:function(){return 0},hrtime:function(t){var e=.001*nt.call(rt),r=Math.floor(e),n=Math.floor(e%1*1e9);return t&&(r-=t[0],(n-=t[1])<0&&(r--,n+=1e9)),[r,n]},platform:"browser",release:{},config:{},uptime:function(){return(new Date-ut)/1e3}},ot=function(t,e){D.forEach(t,(function(r,n){n!==e&&n.toUpperCase()===e.toUpperCase()&&(t[e]=r,delete t[n])}))},it=function(t,e,r,n,u){return t.config=e,r&&(t.code=r),t.request=n,t.response=u,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},t},st=function(t,e,r,n,u){var a=new Error(t);return it(a,e,r,n,u)},ct=D.isStandardBrowserEnv()?{write:function(t,e,r,n,u,a){var o=[];o.push(t+"="+encodeURIComponent(e)),D.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),D.isString(n)&&o.push("path="+n),D.isString(u)&&o.push("domain="+u),!0===a&&o.push("secure"),document.cookie=o.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}},lt=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],ft=D.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function n(t){var n=t;return e&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return t=n(window.location.href),function(e){var r=D.isString(e)?n(e):e;return r.protocol===t.protocol&&r.host===t.host}}():function(){return!0};function pt(t){this.message=t}pt.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},pt.prototype.__CANCEL__=!0;var ht=pt,dt=wt,vt=function(t){return new Promise((function(e,r){var n,u=t.data,a=t.headers,o=t.responseType;function i(){t.cancelToken&&t.cancelToken.unsubscribe(n),t.signal&&t.signal.removeEventListener("abort",n)}D.isFormData(u)&&delete a["Content-Type"];var s=new XMLHttpRequest;if(t.auth){var c=t.auth.username||"",l=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";a.Authorization="Basic "+btoa(c+":"+l)}var f,p,h=(f=t.baseURL,p=t.url,f&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(p)?function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}(f,p):p);function d(){if(s){var n,u,a,c,l,f="getAllResponseHeaders"in s?(n=s.getAllResponseHeaders(),l={},n?(D.forEach(n.split("\n"),(function(t){if(c=t.indexOf(":"),u=D.trim(t.substr(0,c)).toLowerCase(),a=D.trim(t.substr(c+1)),u){if(l[u]&&lt.indexOf(u)>=0)return;l[u]="set-cookie"===u?(l[u]?l[u]:[]).concat([a]):l[u]?l[u]+", "+a:a}})),l):l):null;!function(t,e,r){var n=r.config.validateStatus;r.status&&n&&!n(r.status)?e(st("Request failed with status code "+r.status,r.config,null,r.request,r)):t(r)}((function(t){e(t),i()}),(function(t){r(t),i()}),{data:o&&"text"!==o&&"json"!==o?s.response:s.responseText,status:s.status,statusText:s.statusText,headers:f,config:t,request:s}),s=null}}if(s.open(t.method.toUpperCase(),S(h,t.params,t.paramsSerializer),!0),s.timeout=t.timeout,"onloadend"in s?s.onloadend=d:s.onreadystatechange=function(){s&&4===s.readyState&&(0!==s.status||s.responseURL&&0===s.responseURL.indexOf("file:"))&&setTimeout(d)},s.onabort=function(){s&&(r(st("Request aborted",t,"ECONNABORTED",s)),s=null)},s.onerror=function(){r(st("Network Error",t,null,s)),s=null},s.ontimeout=function(){var e=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded",n=t.transitional||dt.transitional;t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),r(st(e,t,n.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",s)),s=null},D.isStandardBrowserEnv()){var v=(t.withCredentials||ft(h))&&t.xsrfCookieName?ct.read(t.xsrfCookieName):void 0;v&&(a[t.xsrfHeaderName]=v)}"setRequestHeader"in s&&D.forEach(a,(function(t,e){void 0===u&&"content-type"===e.toLowerCase()?delete a[e]:s.setRequestHeader(e,t)})),D.isUndefined(t.withCredentials)||(s.withCredentials=!!t.withCredentials),o&&"json"!==o&&(s.responseType=t.responseType),"function"==typeof t.onDownloadProgress&&s.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&s.upload&&s.upload.addEventListener("progress",t.onUploadProgress),(t.cancelToken||t.signal)&&(n=function(t){s&&(r(!t||t&&t.type?new ht("canceled"):t),s.abort(),s=null)},t.cancelToken&&t.cancelToken.subscribe(n),t.signal&&(t.signal.aborted?n():t.signal.addEventListener("abort",n))),u||(u=null),s.send(u)}))},gt={"Content-Type":"application/x-www-form-urlencoded"};function yt(t,e){!D.isUndefined(t)&&D.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var mt,bt={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==at&&"[object process]"===Object.prototype.toString.call(at))&&(mt=vt),mt),transformRequest:[function(t,e){return ot(e,"Accept"),ot(e,"Content-Type"),D.isFormData(t)||D.isArrayBuffer(t)||D.isBuffer(t)||D.isStream(t)||D.isFile(t)||D.isBlob(t)?t:D.isArrayBufferView(t)?t.buffer:D.isURLSearchParams(t)?(yt(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):D.isObject(t)||e&&"application/json"===e["Content-Type"]?(yt(e,"application/json"),function(t,e,r){if(D.isString(t))try{return(e||JSON.parse)(t),D.trim(t)}catch(t){if("SyntaxError"!==t.name)throw t}return(r||JSON.stringify)(t)}(t)):t}],transformResponse:[function(t){var e=this.transitional||bt.transitional,r=e&&e.silentJSONParsing,n=e&&e.forcedJSONParsing,u=!r&&"json"===this.responseType;if(u||n&&D.isString(t)&&t.length)try{return JSON.parse(t)}catch(t){if(u){if("SyntaxError"===t.name)throw it(t,this,"E_JSON_PARSE");throw t}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};D.forEach(["delete","get","head"],(function(t){bt.headers[t]={}})),D.forEach(["post","put","patch"],(function(t){bt.headers[t]=D.merge(gt)}));var wt=bt,Et=function(t,e,r){var n=this||dt;return D.forEach(r,(function(r){t=r.call(n,t,e)})),t},At=function(t){return!(!t||!t.__CANCEL__)};function xt(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new ht("canceled")}var kt=function(t){return xt(t),t.headers=t.headers||{},t.data=Et.call(t,t.data,t.headers,t.transformRequest),t.headers=D.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),D.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]})),(t.adapter||dt.adapter)(t).then((function(e){return xt(t),e.data=Et.call(t,e.data,e.headers,t.transformResponse),e}),(function(e){return At(e)||(xt(t),e&&e.response&&(e.response.data=Et.call(t,e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))},Ft=function(t,e){e=e||{};var r={};function n(t,e){return D.isPlainObject(t)&&D.isPlainObject(e)?D.merge(t,e):D.isPlainObject(e)?D.merge({},e):D.isArray(e)?e.slice():e}function u(r){return D.isUndefined(e[r])?D.isUndefined(t[r])?void 0:n(void 0,t[r]):n(t[r],e[r])}function a(t){if(!D.isUndefined(e[t]))return n(void 0,e[t])}function o(r){return D.isUndefined(e[r])?D.isUndefined(t[r])?void 0:n(void 0,t[r]):n(void 0,e[r])}function i(r){return r in e?n(t[r],e[r]):r in t?n(void 0,t[r]):void 0}var s={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:i};return D.forEach(Object.keys(t).concat(Object.keys(e)),(function(t){var e=s[t]||u,n=e(t);D.isUndefined(n)&&e!==i||(r[t]=n)})),r},Ot="0.26.0",Ct=Ot,jt={};["object","boolean","number","function","string","symbol"].forEach((function(t,e){jt[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}}));var Dt={};jt.transitional=function(t,e,r){function n(t,e){return"[Axios v"+Ct+"] Transitional option '"+t+"'"+e+(r?". "+r:"")}return function(r,u,a){if(!1===t)throw new Error(n(u," has been removed"+(e?" in "+e:"")));return e&&!Dt[u]&&(Dt[u]=!0,console.warn(n(u," has been deprecated since v"+e+" and will be removed in the near future"))),!t||t(r,u,a)}};var Bt={assertOptions:function(t,e,r){if("object"!=typeof t)throw new TypeError("options must be an object");for(var n=Object.keys(t),u=n.length;u-- >0;){var a=n[u],o=e[a];if(o){var i=t[a],s=void 0===i||o(i,a,t);if(!0!==s)throw new TypeError("option "+a+" must be "+s)}else if(!0!==r)throw Error("Unknown option "+a)}},validators:jt},St=Bt.validators;function Tt(t){this.defaults=t,this.interceptors={request:new R,response:new R}}Tt.prototype.request=function(t,e){"string"==typeof t?(e=e||{}).url=t:e=t||{},(e=Ft(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var r=e.transitional;void 0!==r&&Bt.assertOptions(r,{silentJSONParsing:St.transitional(St.boolean),forcedJSONParsing:St.transitional(St.boolean),clarifyTimeoutError:St.transitional(St.boolean)},!1);var n=[],u=!0;this.interceptors.request.forEach((function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(u=u&&t.synchronous,n.unshift(t.fulfilled,t.rejected))}));var a,o=[];if(this.interceptors.response.forEach((function(t){o.push(t.fulfilled,t.rejected)})),!u){var i=[kt,void 0];for(Array.prototype.unshift.apply(i,n),i=i.concat(o),a=Promise.resolve(e);i.length;)a=a.then(i.shift(),i.shift());return a}for(var s=e;n.length;){var c=n.shift(),l=n.shift();try{s=c(s)}catch(t){l(t);break}}try{a=kt(s)}catch(t){return Promise.reject(t)}for(;o.length;)a=a.then(o.shift(),o.shift());return a},Tt.prototype.getUri=function(t){return t=Ft(this.defaults,t),S(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},D.forEach(["delete","get","head","options"],(function(t){Tt.prototype[t]=function(e,r){return this.request(Ft(r||{},{method:t,url:e,data:(r||{}).data}))}})),D.forEach(["post","put","patch"],(function(t){Tt.prototype[t]=function(e,r,n){return this.request(Ft(n||{},{method:t,url:e,data:r}))}}));var Rt=Tt;function Pt(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var r=this;this.promise.then((function(t){if(r._listeners){var e,n=r._listeners.length;for(e=0;e<n;e++)r._listeners[e](t);r._listeners=null}})),this.promise.then=function(t){var e,n=new Promise((function(t){r.subscribe(t),e=t})).then(t);return n.cancel=function(){r.unsubscribe(e)},n},t((function(t){r.reason||(r.reason=new ht(t),e(r.reason))}))}Pt.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},Pt.prototype.subscribe=function(t){this.reason?t(this.reason):this._listeners?this._listeners.push(t):this._listeners=[t]},Pt.prototype.unsubscribe=function(t){if(this._listeners){var e=this._listeners.indexOf(t);-1!==e&&this._listeners.splice(e,1)}},Pt.source=function(){var t;return{token:new Pt((function(e){t=e})),cancel:t}};var _t=Pt;var Ut=function t(e){var r=new Rt(e),n=w(Rt.prototype.request,r);return D.extend(n,Rt.prototype,r),D.extend(n,r),n.create=function(r){return t(Ft(e,r))},n}(dt);Ut.Axios=Rt,Ut.Cancel=ht,Ut.CancelToken=_t,Ut.isCancel=At,Ut.VERSION=Ot,Ut.all=function(t){return Promise.all(t)},Ut.spread=function(t){return function(e){return t.apply(null,e)}},Ut.isAxiosError=function(t){return D.isObject(t)&&!0===t.isAxiosError};var It=Ut,Lt=Ut;It.default=Lt;var Nt=It,Mt=26,qt=" \t\v\f\ufeff\n\r\u2028\u2029",zt=function(t,e,r){return r?0===t.toLowerCase().indexOf(e.toLowerCase()):0===t.indexOf(e)},Ht=function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:qt,r=""+t,n=0;n<t.length;n++){if(!e.includes(t[n]))return r;r=r.substring(1)}return r},Jt=function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:qt,r=""+t,n=t.length-1;n>=0;n--){if(!e.includes(t[n]))return r;r=r.substring(0,n)}return r},Wt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:qt;return null==e?t.trim():Jt(Ht(t,e),e)},Gt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return n(Array(t)).map((function(){return Math.floor(62*Math.random())})).map((function(t){return t>36?(t-Mt).toString(36).toUpperCase():t.toString(36)})).join("")},Vt=function(t){return/^(?:http(s)?:\/\/)?[\w.-]+(?:\.[\w.-]+)+[\w\-._~:/?#[\]@!$&'()*+,;=.]+$/gi.test(t)},Kt=function(t){for(var e=[{base:"A",letters:/[\u0041\u24B6\uFF21\u00C0\u00C1\u00C2\u1EA6\u1EA4\u1EAA\u1EA8\u00C3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\u00C4\u01DE\u1EA2\u00C5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F]/g},{base:"AA",letters:/[\uA732]/g},{base:"AE",letters:/[\u00C6\u01FC\u01E2]/g},{base:"AO",letters:/[\uA734]/g},{base:"AU",letters:/[\uA736]/g},{base:"AV",letters:/[\uA738\uA73A]/g},{base:"AY",letters:/[\uA73C]/g},{base:"B",letters:/[\u0042\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0182\u0181]/g},{base:"C",letters:/[\u0043\u24B8\uFF23\u0106\u0108\u010A\u010C\u00C7\u1E08\u0187\u023B\uA73E]/g},{base:"D",letters:/[\u0044\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018B\u018A\u0189\uA779]/g},{base:"DZ",letters:/[\u01F1\u01C4]/g},{base:"Dz",letters:/[\u01F2\u01C5]/g},{base:"E",letters:/[\u0045\u24BA\uFF25\u00C8\u00C9\u00CA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\u00CB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E]/g},{base:"F",letters:/[\u0046\u24BB\uFF26\u1E1E\u0191\uA77B]/g},{base:"G",letters:/[\u0047\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E]/g},{base:"H",letters:/[\u0048\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D]/g},{base:"I",letters:/[\u0049\u24BE\uFF29\u00CC\u00CD\u00CE\u0128\u012A\u012C\u0130\u00CF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197]/g},{base:"J",letters:/[\u004A\u24BF\uFF2A\u0134\u0248]/g},{base:"K",letters:/[\u004B\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2]/g},{base:"L",letters:/[\u004C\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780]/g},{base:"LJ",letters:/[\u01C7]/g},{base:"Lj",letters:/[\u01C8]/g},{base:"M",letters:/[\u004D\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C]/g},{base:"N",letters:/[\u004E\u24C3\uFF2E\u01F8\u0143\u00D1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u0220\u019D\uA790\uA7A4]/g},{base:"NJ",letters:/[\u01CA]/g},{base:"Nj",letters:/[\u01CB]/g},{base:"O",letters:/[\u004F\u24C4\uFF2F\u00D2\u00D3\u00D4\u1ED2\u1ED0\u1ED6\u1ED4\u00D5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\u00D6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\u00D8\u01FE\u0186\u019F\uA74A\uA74C]/g},{base:"OE",letters:/[\u0152\u0276]/g},{base:"OI",letters:/[\u01A2]/g},{base:"OO",letters:/[\uA74E]/g},{base:"OU",letters:/[\u0222]/g},{base:"P",letters:/[\u0050\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754]/g},{base:"Q",letters:/[\u0051\u24C6\uFF31\uA756\uA758\u024A]/g},{base:"R",letters:/[\u0052\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782]/g},{base:"S",letters:/[\u0053\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784]/g},{base:"T",letters:/[\u0054\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786]/g},{base:"TZ",letters:/[\uA728]/g},{base:"U",letters:/[\u0055\u24CA\uFF35\u00D9\u00DA\u00DB\u0168\u1E78\u016A\u1E7A\u016C\u00DC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244]/g},{base:"V",letters:/[\u0056\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245]/g},{base:"VY",letters:/[\uA760]/g},{base:"W",letters:/[\u0057\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72]/g},{base:"X",letters:/[\u0058\u24CD\uFF38\u1E8A\u1E8C]/g},{base:"Y",letters:/[\u0059\u24CE\uFF39\u1EF2\u00DD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE]/g},{base:"Z",letters:/[\u005A\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762]/g},{base:"a",letters:/[\u0061\u24D0\uFF41\u1E9A\u00E0\u00E1\u00E2\u1EA7\u1EA5\u1EAB\u1EA9\u00E3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\u00E4\u01DF\u1EA3\u00E5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250]/g},{base:"aa",letters:/[\uA733]/g},{base:"ae",letters:/[\u00E6\u01FD\u01E3]/g},{base:"ao",letters:/[\uA735]/g},{base:"au",letters:/[\uA737]/g},{base:"av",letters:/[\uA739\uA73B]/g},{base:"ay",letters:/[\uA73D]/g},{base:"b",letters:/[\u0062\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253]/g},{base:"c",letters:/[\u0063\u24D2\uFF43\u0107\u0109\u010B\u010D\u00E7\u1E09\u0188\u023C\uA73F\u2184]/g},{base:"d",letters:/[\u0064\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A]/g},{base:"dz",letters:/[\u01F3\u01C6]/g},{base:"e",letters:/[\u0065\u24D4\uFF45\u00E8\u00E9\u00EA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\u00EB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD]/g},{base:"f",letters:/[\u0066\u24D5\uFF46\u1E1F\u0192\uA77C]/g},{base:"g",letters:/[\u0067\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F]/g},{base:"h",letters:/[\u0068\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265]/g},{base:"hv",letters:/[\u0195]/g},{base:"i",letters:/[\u0069\u24D8\uFF49\u00EC\u00ED\u00EE\u0129\u012B\u012D\u00EF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131]/g},{base:"j",letters:/[\u006A\u24D9\uFF4A\u0135\u01F0\u0249]/g},{base:"k",letters:/[\u006B\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3]/g},{base:"l",letters:/[\u006C\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u017F\u0142\u019A\u026B\u2C61\uA749\uA781\uA747]/g},{base:"lj",letters:/[\u01C9]/g},{base:"m",letters:/[\u006D\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F]/g},{base:"n",letters:/[\u006E\u24DD\uFF4E\u01F9\u0144\u00F1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5]/g},{base:"nj",letters:/[\u01CC]/g},{base:"o",letters:/[\u006F\u24DE\uFF4F\u00F2\u00F3\u00F4\u1ED3\u1ED1\u1ED7\u1ED5\u00F5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\u00F6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\u00F8\u01FF\u0254\uA74B\uA74D\u0275]/g},{base:"oe",letters:/[\u0153\u1D14]/g},{base:"oi",letters:/[\u01A3]/g},{base:"ou",letters:/[\u0223]/g},{base:"oo",letters:/[\uA74F]/g},{base:"p",letters:/[\u0070\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755]/g},{base:"q",letters:/[\u0071\u24E0\uFF51\u024B\uA757\uA759]/g},{base:"r",letters:/[\u0072\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783]/g},{base:"s",letters:/[\u0073\u24E2\uFF53\u00DF\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B]/g},{base:"t",letters:/[\u0074\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787]/g},{base:"tz",letters:/[\uA729]/g},{base:"u",letters:/[\u0075\u24E4\uFF55\u00F9\u00FA\u00FB\u0169\u1E79\u016B\u1E7B\u016D\u00FC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289]/g},{base:"v",letters:/[\u0076\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C]/g},{base:"vy",letters:/[\uA761]/g},{base:"w",letters:/[\u0077\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73]/g},{base:"x",letters:/[\u0078\u24E7\uFF58\u1E8B\u1E8D]/g},{base:"y",letters:/[\u0079\u24E8\uFF59\u1EF3\u00FD\u0177\u1EF9\u0233\u1E8F\u00FF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF]/g},{base:"z",letters:/[\u007A\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763]/g}],r=0;r<e.length;r++)t=t.replace(e[r].letters,e[r].base);return t},$t=function(t){return t?t[0].toUpperCase()+t.substr(1).replace(/\s(.)/g,(function(t){return t.toUpperCase()})):""},Zt=function(t){return t?Wt(t.replace(/[^\w ]+/g," ").replace(/\s+/g,"-").toLowerCase(),"-"):""},Yt=function(t){return t?Zt(t).replace(/-/g," ").replace(/\s(.)/g,(function(t){return t.toUpperCase()})).replace(/\s/g,"").replace(/^(.)/,(function(t){return t.toLowerCase()})):""},Xt={equals:function(t,e,r){return r?t.toLowerCase()===e.toLowerCase():t===e},contains:function(t,e,r){return r?-1!==t.toLowerCase().indexOf(e.toLowerCase()):-1!==t.indexOf(e)},startsWith:zt,endsWith:function(t,e,r){return r?-1!==t.toLowerCase().indexOf(e.toLowerCase(),t.length-e.length):-1!==t.indexOf(e,t.length-e.length)},trimLeft:Ht,trimRight:Jt,trim:Wt,replaceAll:function(t,e,r){return t.replace(new RegExp(e,"g"),r)},randomize:Gt,newGuid:function(){var t=Gt(32);return"".concat(t.substr(0,8),"-").concat(t.substr(8,4),"-").concat(t.substr(12,4),"-").concat(t.substr(16,4),"-").concat(t.substr(20,12))},isEmail:function(t){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)},isUrl:Vt,formatBelgianPhone:function(t){if("string"!=typeof t)return"";if(12===t.length&&0===t.indexOf("00323")){var e=t.match(/(\d{4})(\d{1})(\d{3})(\d{2})(\d{2})/);if(6==e.length)return"+".concat(e[1].substr(2)," ").concat(e[2]," ").concat(e[3]," ").concat(e[4]," ").concat(e[5])}else if(13===t.length&&0===t.indexOf("00324")){var r=t.match(/(\d{4})(\d{3})(\d{2})(\d{2})(\d{2})/);if(6==r.length)return"+".concat(r[1].substr(2)," ").concat(r[2]," ").concat(r[3]," ").concat(r[4]," ").concat(r[5])}return t},htmlEncode:function(t){return t.replace(/[\u00A0-\u9999<>&]/gim,(function(t){return"&#"+t.charCodeAt(0)+";"}))},htmlDecode:function(t){return t.replace(/&#(\d+);/g,(function(t,e){return String.fromCharCode(e)}))},normalizeDiacritics:Kt,capitalize:$t,toKebabCase:Zt,toSnakeCase:function(t){return t?Zt(t).replace(/-+/g,"_"):""},toTrainCase:function(t){return t?$t(Zt(t).replace(/-+/g," ")).replace(/\s+/g,"-"):""},toCamelCase:Yt,toPascalCase:function(t){return t?$t(Yt(t)):""},slugify:function(t){return t?Zt(Kt(t)):""}},Qt=function(){function t(e,r,n){i(this,t),this.api=e,this.catalogName=r,this.version=n}return c(t,[{key:"details",value:function(){var t=a(f.mark((function t(e){var r;return f.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.list();case 2:if(r=t.sent,Array.isArray(r)||null!=e){t.next=5;break}return t.abrupt("return",r);case 5:return t.abrupt("return",r.find((function(t){return t.id===e})));case 6:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"list",value:function(){var t=a(f.mark((function t(){var e,r;return f.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.getCatalogUrl(),t.next=3,Nt.get(e);case 3:return r=t.sent,this.checkResponse(r),t.abrupt("return",r.data);case 6:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"getCatalogUrl",value:function(){return"".concat(Jt(this.api,"/"),"/").concat(this.catalogName,".json").concat(this.version?"?v="+this.version:"")}},{key:"checkResponse",value:function(t){if(t.status<200||t.status>=400)throw console.error("Remote error",{response:t}),Error("".concat(t.statusText," (").concat(t.status,")"))}}]),t}();function te(t){return te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},te(t)}function ee(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,u,a=[],o=!0,i=!1;try{for(r=r.call(t);!(o=(n=r.next()).done)&&(a.push(n.value),!e||a.length!==e);o=!0);}catch(t){i=!0,u=t}finally{try{o||null==r.return||r.return()}finally{if(i)throw u}}return a}}(t,e)||r(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var re=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=document.createElement("meta");r.setAttribute("http-equiv","Refresh"),r.setAttribute("content","".concat(e,"; url=").concat(t)),document.head.appendChild(r)},ne={redirect:re,setMetaTag:function(t,e){var r=document.getElementsByName(t)[0];if(null==r){var u=n(document.head.childNodes.values()).filter((function(t){return"META"===t.tagName})).slice(-1)[0];r=document.createElement("meta"),null!=u?u.insertAdjacentElement("afterend",r):document.head.appendChild(r)}r.setAttribute("name",t),r.setAttribute("content",e)},setCanonicalTag:function(t){var e=document.querySelector("[rel=canonical]");if(null==e){var r=n(document.head.childNodes.values()).filter((function(t){return"META"===t.tagName})).slice(-1)[0];e=document.createElement("meta"),null!=r?r.insertAdjacentElement("afterend",e):document.head.appendChild(e)}e.setAttribute("rel","canonical"),e.setAttribute("href",t)}},ue=function(){return"localhost"===location.hostname||"127.0.0.1"===location.hostname},ae=function(t){var e=new URL(t);return function(t){return"https:"===("string"==typeof t?new URL(t):t).protocol}(e)?t:"https:"+t.substring(e.protocol.length)},oe=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=function(t,e){return"".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(e))},n=function t(n,u){return Object.entries(n).filter((function(t){return e||null!=t[1]})).flatMap((function(e){var n=ee(e,2),a=n[0],o=n[1];return a=u?"".concat(u,"[").concat(a,"]"):a,Array.isArray(o)?o.map((function(t){return r(a,t)})):"object"===("undefined"==typeof v?"undefined":te(v))?t(o,a):r(a,o)}))};return n(t).join("&")},ie={isLocalHost:ue,getHttpsUrl:ae,forceHttps:function(t){var e=ae(t);e===t||ue()||re(e)},toQueryString:oe,getQueryStringParams:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.href,e=new URL(t),r=new URLSearchParams(e.search);return Object.fromEntries(r.entries())}},se=function(){function t(e){i(this,t),this.listUrl=e.listUrl,this.detailsUrl=e.detailsUrl,this.countUrl=e.countUrl,this.saveUrl=e.saveUrl,this.deleteUrl=e.deleteUrl,this.version=e.version}var e,r,n;return c(t,[{key:"details",value:function(){var t=a(f.mark((function t(e){var r,n;return f.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.getDetailsUrl(e),t.next=3,Nt.get(r);case 3:return n=t.sent,this.checkResponse(n),t.abrupt("return",n.data);case 6:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"list",value:function(){var t=a(f.mark((function t(e){var r,n;return f.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.getListUrl(e),t.next=3,Nt.get(r);case 3:return n=t.sent,this.checkResponse(n),t.abrupt("return",n.data);case 6:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"count",value:(n=a(f.mark((function t(e){var r,n;return f.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.getCountUrl(e),t.next=3,Nt.get(r);case 3:return n=t.sent,this.checkResponse(n),t.abrupt("return",n.data);case 6:case"end":return t.stop()}}),t,this)}))),function(t){return n.apply(this,arguments)})},{key:"save",value:(r=a(f.mark((function t(e){var r,n;return f.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.getSaveUrl(e),t.prev=1,t.next=4,Nt.post(r,e);case 4:if(n=t.sent,this.checkResponse(n),!n.data||!n.data.saved){t.next=8;break}return t.abrupt("return",n.data.saved);case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),this.throwRemoteError("Saving failed",t.t0);case 13:return t.abrupt("return",e);case 14:case"end":return t.stop()}}),t,this,[[1,10]])}))),function(t){return r.apply(this,arguments)})},{key:"delete",value:(e=a(f.mark((function t(e){var r,n;return f.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.getDeleteUrl(e),t.prev=1,t.next=4,Nt.delete(r);case 4:n=t.sent,this.checkResponse(n),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),this.throwRemoteError("Deleting failed",t.t0);case 11:return t.abrupt("return",e);case 12:case"end":return t.stop()}}),t,this,[[1,8]])}))),function(t){return e.apply(this,arguments)})},{key:"getDetailsUrl",value:function(t){return this.detailsUrl.replace("{id}",t)}},{key:"getListUrl",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.listUrl;return Object.keys(t).length>0&&(e+="?"+oe(t)),e}},{key:"getCountUrl",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.countUrl;return Object.keys(t).length>0&&(e+="?"+oe(t)),e}},{key:"getSaveUrl",value:function(t){return this.saveUrl.replace("{id}",t.id||"")}},{key:"getDeleteUrl",value:function(t){return this.deleteUrl.replace("{id}",t.id)}},{key:"checkResponse",value:function(t){if(t.status<200||t.status>=400)throw console.error("Remote error",{response:t}),Error("".concat(t.statusText," (").concat(t.status,")"))}},{key:"throwRemoteError",value:function(t,e){var r=Error(t);throw e.response&&(r.data=e.response.data,"errors"in r.data&&(r.errors=e.response.data.errors),r.status=e.response.status,r.statusText=e.response.statusText),r}}]),t}(),ce={EntityManager:b,JsonService:Qt,EntityService:se},le={Event:p,EventHandler:g};var fe=function(t){return"object"===te(t)&&"[object Object]"===Object.prototype.toString.call(t)},pe=function(t){var e=function(t,e){return""===e?t:"".concat(e,".").concat(t)};return function t(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(Array.isArray(r))for(var a=0;a<r.length;a++)t(r,"".concat(n,"[").concat(a,"]"),u);else if("object"!==te(r))u[n]=r;else for(var o=0,i=Object.entries(r);o<i.length;o++){var s=i[o],c=s[0],l=s[1];if(Array.isArray(l))for(var f in l){var p=e("".concat(c,"[").concat(f,"]"),n);t(l[f],p,u)}else{var h=e(c,n);"object"===te(l)&&Object.keys(l).length>0?t(l,h,u):u[h]=l}}return u}(t)},he=function t(e,r){var n,u=(n=r)?Object.keys(n).filter((function(t){return void 0!==n[t]})):[];return!u.length||u.every((function(n){if("function"==typeof r[n])return r[n].apply(e,n);if((r[n]instanceof Date||"number"==typeof r[n])&&!(n in e)){var u=n[3].toLowerCase()+(n.length>4?n.substr(4):"");if(n.startsWith("min"))return e[u]>=r[n];if(n.startsWith("max"))return e[u]<=r[n]}var a=Wt(n,"*");if("string"==typeof r[n]&&"string"==typeof e[a]){var o=r[n];if(n.startsWith("*")&&n.endsWith("*"))return e[a].includes(o);if(n.startsWith("*"))return e[a].endsWith(o);if(n.endsWith("*"))return e[a].startsWith(o)}return!(n in e)||(Array.isArray(r[n])&&!Array.isArray(e[n])?r[n].includes(e[n]):Array.isArray(e[n])&&!Array.isArray(r[n])?e[n].includes(r[n]):Array.isArray(e[n])&&Array.isArray(r[n])?r[n].every((function(t){return e[n].includes(t)})):r[n]instanceof Object?t(e[n],r[n]):e[n]===r[n])}))},de={isPlainObject:fe,flattenObject:pe,crawlObject:function(t,e){return e.split(".").reduce((function(t,e){return null==t?null:t[e]}),t)},mixin:function(t){function e(t,e,n){var u=t[n];return fe(e)&&fe(u)?t[n]=r(u,e):t[n]=e,t}function r(t,r){return Object.keys(r).reduce((function(t,n){return e(t,r[n],n)}),t)}for(var n=arguments.length,u=new Array(n>1?n-1:0),a=1;a<n;a++)u[a-1]=arguments[a];return u.reduce((function(t,e){return r(t,e)}),t)},filterObject:he},ve=function(t,e,r){var n,u,a,o,i=0,s=/(\d+)|(\D+)/g,c=/\d/;if(isFinite(r(t))&&isFinite(r(e)))return r(t)-r(e);if((n=String(r(t)).toLowerCase())===(u=String(r(e)).toLowerCase()))return 0;if(!c.test(n)||!c.test(u))return n>u?1:-1;n=n.match(s),u=u.match(s);for(var l=n.length>u.length?u.length:n.length;i<l;)if((a=n[i])!==(o=u[i++]))return isFinite(a)&&isFinite(o)?("0"===a.charAt(0)&&(a="."+a),"0"===o.charAt(0)&&(o="."+o),a-o):a>o?1:-1;return n.length-u.length},ge=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;if(e===t&&(t=0),e<=t){if(0===t)return 0;var r="Invalid input (max should be greater than min)";throw console.error(r,{min:t,max:e}),Error(r)}return Math.floor(Math.random()*(e-t+1))+t},ye={naturalCompare:ve,getRandom:ge},me=function(t){return t},be=function(t,e,r){return r(t)<r(e)?-1:r(t)>r(e)?1:0},we=function(t,e,r){return r(t)>r(e)?-1:r(t)<r(e)?1:0},Ee=function(t){return Array.isArray(t)},Ae=function(t){return null!=t&&"function"==typeof t[Symbol.iterator]},xe=function(t){return t?Ee(t)?t:Ae(t)?n(t):Object.values(t):[]},ke=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:me,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:me,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:r,a=[],o=xe(t),i=xe(e);return o.forEach((function(t){i.filter((function(e){return r(t)===n(e)})).forEach((function(e){a.push(u(t,e))}))})),a},Fe=function(t,e){var r=xe(t);if(!e)return r.length?r[r.length-1]:void 0;for(var n=r.length-1;n>=0;n--)if(e(r[n]))return r[n]},Oe=function(t){return n(new Set(t))},Ce=function(t,e){return xe(t).slice(0,e)},je=function(t,e){return xe(t).slice(e)},De=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:me,r=xe(t);if(r.length)return r.reduce((function(t,r){var n=e(r);return null==t||n<t?n:t}),null)},Be=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:me,r=xe(t);if(r.length)return r.reduce((function(t,r){var n=e(r);return null==t||n>t?n:t}),null)},Se=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:me;return xe(t).reduce((function(t,r){return t+e(r)}),0)},Te=function(t,e){return Se(t,e)/t.length},Re={isArray:Ee,isIterable:Ae,toArray:xe,newArray:function(t){return n(Array(t))},orderBy:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:me,r=n(t);return r.sort((function(t,r){return be(t,r,e)})),r},orderByDesc:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:me,r=n(t);return r.sort((function(t,r){return we(t,r,e)})),r},naturalSort:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:me,r=n(t);return r.sort((function(t,r){return ve(t,r,e)})),r},shuffle:function(t){var e=n(t);return n(Array(e.length)).map((function(){var t=ge(e.length-1);return e.splice(t,1)[0]}))},innerJoin:ke,groupBy:function(t,e){return Oe(t.map(e)).map((function(r){return[r,t.filter((function(t,n,u){return r===e(t,n,u)}))]}))},groupJoin:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:me,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:me,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(t,e){return[t,e]},a=xe(e);return xe(t).map((function(t,e,u){return[t,a.filter((function(a,o,i){return r(t,e,u)===n(a,o,i)}))]})).map((function(t){var e=ee(t,2),r=e[0],n=e[1];return u(r,n)}))},count:function(t,e){var r=xe(t);return e?r.filter(e).length:r.length},first:function(t,e){var r=xe(t);return e?r.find(e):r[0]},last:Fe,distinctBy:function(t,e){return xe(t).reduce((function(t,r){return t.some((function(t){return e(t)===e(r)}))?t:t.concat([r])}),[])},distinct:Oe,union:function(t,e){return Oe(xe(t).concat(xe(e)))},take:Ce,skip:je,page:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=e*r;return xe(t).slice(n,n+e)},countPages:function(t,e){var r=xe(t).length;return Math.ceil(r/e)},min:De,max:Be,sum:Se,average:Te,toMap:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:me,n=xe(t);return n.reduce((function(t,n,u){var a=e(n),o=r(n,u,t);return t.set(a,o)}),new Map)},sameContent:function(t,e){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(t===e)return!0;if(null==t||null==e)return!1;var n=xe(t),u=xe(e);if(n.length!==u.length)return!1;if(r){for(var a=0;a<n.length;a++)if(n[a]!==u[a])return!1;return!0}return ke(n,u).length===n.length},query:function(t,e){return xe(t).filter((function(t){return he(t,e)}))},getEnumerator:function(t){var e=0;return{get selectedIndex(){return e},set selectedIndex(r){r>=0&&r<t.length&&(e=r)},get length(){return t.length},get current(){return e>=0&&e<t.length?t[e]:null},first:function(){e=0},previous:function(){return e>0&&e--,e>0},next:function(){return e<t.length-1&&e++,e<t.length},last:function(){e=t.length-1}}},move:function(t,e,r){var n=t.indexOf(e);-1!==n&&(t.splice(n,1),t.splice(r,0,e))},reFill:function(t,e){t.splice.apply(t,[0,t.length].concat(n(e)))}},Pe=function(t,e){if(null==t)return{};var r,n,u=function(t,e){if(null==t)return{};var r,n,u={},a=Object.keys(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)>=0||(u[r]=t[r]);return u}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(u[r]=t[r])}return u}(Re,["isArray","isIterable","toArray","newArray"]),_e={injectInto:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Object.getOwnPropertyNames(Pe).forEach((function(r){"constructor"===r||!e&&t.hasOwnProperty(r)||Object.defineProperty(t,r,{value:function(){var t=[this].concat(Array.prototype.slice.call(arguments));return Pe[r].apply(this,t)},configurable:!0})}))},use:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.injectInto(Array.prototype,t)}},Ue=function(t){var e=t instanceof Date?t:new Date(t);return!isNaN(+e)},Ie={last:(new Date).getTime(),log:function(t){var e=(new Date).getTime(),r=t?new Date(t).getTime():this.last;return this.last=e,e-r}},Le=function(t){if(!Ue(t))return null;var e=t instanceof Date?t:new Date(t),r=new Date(t instanceof Date?t.getTime():t),n=function(t){if(!Ue(t))return"";var e=-t.getTimezoneOffset(),r=e/60,n=e%60;return"".concat(r>=0?"+":"-").concat(Math.abs(r).toString().padStart(2,"0"),":").concat(Math.abs(n).toString().padStart(2,"0"))}(e);r.setHours(e.getHours()+parseInt(n.split(":")[0]));var u=r.toISOString().replace("Z","");return"".concat(u).concat(n)},Ne={isValidDate:Ue,timer:Ie,countDown:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,r={},n=function(){var e=new Date,n=Math.abs(t-e)/1e3;r.days=Math.floor(n/86400),n-=86400*r.days,r.hours=Math.floor(n/3600)%24,n-=3600*r.hours,r.minutes=Math.floor(n/60)%60,n-=60*r.minutes,r.seconds=Math.floor(n)};return setInterval(n,e),n(),r},stringifyDate:Le},Me={use:function(){Date.prototype.toJSON=function(){return Le(this)}}},qe=function(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:250,u=[];return a(f.mark((function a(){var o,i=arguments;return f.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return o=Array.prototype.slice.call(i),clearTimeout(e),a.abrupt("return",new Promise((function(a){u.push(a),e=setTimeout((function(){e=null;for(var r=t.apply(void 0,n(o));u.length;)u.shift()(r)}),r)})));case 3:case"end":return a.stop()}}),a)})))},ze=function(){var t=a(f.mark((function t(e){var r,n;return f.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=!1,t.next=3,e.reduce(function(){var t=a(f.mark((function t(e,n){var u,a;return f.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e;case 2:return u=t.sent,t.next=5,Promise.resolve(n()).catch((function(t){return r=!0,t}));case 5:return a=t.sent,u.push(a),t.abrupt("return",u);case 8:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),[]);case 3:if(n=t.sent,!r){t.next=6;break}return t.abrupt("return",Promise.reject(n));case 6:return t.abrupt("return",n);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),He={debounceToPromise:qe,enqueue:ze},Je={use:function(){Promise.debounce=qe,Promise.enqueue=ze}},We={useArrayExtensions:_e.use.bind(_e),useDateExtensions:Me.use.bind(Me),usePromiseExtensions:Je.use.bind(Je)};function Ge(t,e){return Ge=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Ge(t,e)}function Ve(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ge(t,e)}function Ke(t,e){if(e&&("object"===te(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function $e(t){return $e=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},$e(t)}function Ze(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function Ye(t,e,r){return Ye=Ze()?Reflect.construct:function(t,e,r){var n=[null];n.push.apply(n,e);var u=new(Function.bind.apply(t,n));return r&&Ge(u,r.prototype),u},Ye.apply(null,arguments)}function Xe(t){var e="function"==typeof Map?new Map:void 0;return Xe=function(t){if(null===t||(r=t,-1===Function.toString.call(r).indexOf("[native code]")))return t;var r;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return Ye(t,arguments,$e(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Ge(n,t)},Xe(t)}function Qe(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=$e(t);if(e){var u=$e(this).constructor;r=Reflect.construct(n,arguments,u)}else r=n.apply(this,arguments);return Ke(this,r)}}var tr=function(t){Ve(r,t);var e=Qe(r);function r(t,n){var u;return i(this,r),(u=e.call(this,"".concat(t," (").concat(n,")"))).code=n,u}return c(r)}(Xe(Error)),er=function(t){var e=t.status;if(e<200||e>=400){var r=t.data&&t.data.error?t.data.error.message:t.statusText;throw console.error("Firebase Error",e,{message:r,response:t}),new tr(r,e)}},rr=function(){var t=a(f.mark((function t(e,r,n){var u,a;return f.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u={url:e,method:r},void 0!==n&&(u.data=n),t.next=4,Nt(u);case 4:return a=t.sent,er(a),t.abrupt("return",a.data);case 7:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}(),nr={get:function(t){return rr(t,"get")},put:function(t,e){return rr(t,"put",e)},post:function(t,e){return rr(t,"post",e)},delete:function(t){return rr(t,"delete")}};function ur(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function ar(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ur(Object(r),!0).forEach((function(e){o(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ur(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function or(t,e,r){return"".concat(Jt(t,"/"),"/").concat(e,"/").concat(r,".json")}function ir(t,e){return"".concat(Jt(t,"/"),"/").concat(e,".json")}function sr(t,e,r){return cr.apply(this,arguments)}function cr(){return(cr=a(f.mark((function t(e,r,n){var u;return f.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u=n?or(e,r,n):ir(e,r),t.abrupt("return",nr.get(u));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function lr(t,e){return fr.apply(this,arguments)}function fr(){return(fr=a(f.mark((function t(e,r){var n,u,a;return f.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=ir(e,r),t.next=3,nr.get(n);case 3:return u=t.sent,(a=Object.entries(u).map((function(t){return ar(ar({},t[1]),{},{id:t[0]})}))).sort((function(t,e){return t.sortOrder-e.sortOrder})),t.abrupt("return",a);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function pr(t,e,r){return hr.apply(this,arguments)}function hr(){return(hr=a(f.mark((function t(e,r,n){var u,a,o;return f.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u=!n.id,a=u?ir(e,r):getItemUrl(e,r,n.id),o=u?"post":"put",t.abrupt("return",nr[o](a,n));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function dr(t,e,r){return vr.apply(this,arguments)}function vr(){return(vr=a(f.mark((function t(e,r,n){var u;return f.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u=getItemUrl(e,r,n.id),t.abrupt("return",nr.delete(u));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function gr(t,e,r){return yr.apply(this,arguments)}function yr(){return yr=a(f.mark((function t(e,r,u){return f.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n(u).map(function(){var t=a(f.mark((function t(n,u){return f.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.sortOrder=u,t.next=3,pr(e,r,n);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}}),t)}))),yr.apply(this,arguments)}var mr=function(){function t(e){var r=e.catalogName,n=e.apiUrl;i(this,t),this.apiUrl=n||arguments[0],this.catalogName=r||arguments[1]}var e,r,n,u,o;return c(t,[{key:"details",value:(o=a(f.mark((function t(e){return f.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",sr(this.apiUrl,this.catalogName,e));case 1:case"end":return t.stop()}}),t,this)}))),function(t){return o.apply(this,arguments)})},{key:"list",value:(u=a(f.mark((function t(){return f.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",lr(this.apiUrl,this.catalogName));case 1:case"end":return t.stop()}}),t,this)}))),function(){return u.apply(this,arguments)})},{key:"save",value:(n=a(f.mark((function t(e){return f.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",pr(this.apiUrl,this.catalogName,e));case 1:case"end":return t.stop()}}),t,this)}))),function(t){return n.apply(this,arguments)})},{key:"delete",value:(r=a(f.mark((function t(e){return f.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",dr(this.apiUrl,this.catalogName,e));case 1:case"end":return t.stop()}}),t,this)}))),function(t){return r.apply(this,arguments)})},{key:"import",value:(e=a(f.mark((function t(e){return f.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",gr(this.apiUrl,this.catalogName,e));case 1:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})}]),t}(),br="https://securetoken.googleapis.com/v1",wr="https://identitytoolkit.googleapis.com/v1/accounts:";function Er(t,e,r){return"".concat(t,"/").concat(r,"/?key=").concat(e)}function Ar(t,e,r){return xr.apply(this,arguments)}function xr(){return xr=a(f.mark((function t(e,r,n){var u,a,o,i,s,c,l;return f.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u=Er(wr,e,"accounts:verifyPassword"),a={email:r,password:n,returnSecureToken:!0},t.next=4,nr.post(u,a);case 4:return o=t.sent,i=o.idToken,s=o.refreshToken,c=o.expiresIn,l=o.localId,t.abrupt("return",{idToken:i,refreshToken:s,expiresIn:c,userId:l});case 10:case"end":return t.stop()}}),t)}))),xr.apply(this,arguments)}function kr(t,e){return Fr.apply(this,arguments)}function Fr(){return Fr=a(f.mark((function t(e,r){var n,u,a,o,i,s,c;return f.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Er(br,e,"token"),u={grant_type:"refresh_token",refresh_token:r},t.next=4,nr.post(n,u);case 4:return a=t.sent,o=a.id_token,i=a.refresh_token,s=a.expires_in,c=a.user_id,t.abrupt("return",{idToken:o,refreshToken:i,expiresIn:s,userId:c});case 10:case"end":return t.stop()}}),t)}))),Fr.apply(this,arguments)}function Or(t,e){return Cr.apply(this,arguments)}function Cr(){return Cr=a(f.mark((function t(e,r){var n,u;return f.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Er(wr,e,"accounts:sendOobCode"),u={email:r,requestType:"PASSWORD_RESET"},t.next=4,nr.post(n,u);case 4:return t.abrupt("return",!0);case 5:case"end":return t.stop()}}),t)}))),Cr.apply(this,arguments)}var jr=function(){function t(e){i(this,t),this.apiKey=e.apiKey||e}var e,r,n;return c(t,[{key:"login",value:(n=a(f.mark((function t(e,r){return f.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Ar(this.apiKey,e,r));case 1:case"end":return t.stop()}}),t,this)}))),function(t,e){return n.apply(this,arguments)})},{key:"refresh",value:(r=a(f.mark((function t(e){return f.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",kr(this.apiKey,e));case 1:case"end":return t.stop()}}),t,this)}))),function(t){return r.apply(this,arguments)})},{key:"resetPassword",value:(e=a(f.mark((function t(e){return f.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Or(this.apiKey,e));case 1:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})}]),t}(),Dr={EntityService:mr,AuthenticationService:jr};function Br(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Sr(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Br(Object(r),!0).forEach((function(e){o(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Br(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var Tr=function(){function t(e){var r=e.authenticationService,n=e.autoRefresh,u=void 0!==n&&n;i(this,t),this._service=r,this._autoRefreshTimer=null,this._autoRefresh=u,this._setState()}var e;return c(t,[{key:"autoRefresh",get:function(){return this._autoRefresh},set:function(t){this._autoRefresh=!!t,this._checkAutoRefresh()}},{key:"login",value:function(){var t=a(f.mark((function t(e,r){var n;return f.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._service.login(e,r);case 2:return n=t.sent,this._setState(n),this._checkAutoRefresh(),t.abrupt("return",this.trigger("login",Sr({},this.state)));case 6:case"end":return t.stop()}}),t,this)})));return function(e,r){return t.apply(this,arguments)}}()},{key:"refresh",value:function(){var t=a(f.mark((function t(){var e;return f.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._service.refresh(this.state.refreshToken);case 2:return e=t.sent,this._setState(e),this._checkAutoRefresh(),t.abrupt("return",this.trigger("refresh",Sr({},this.state)));case 6:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"logoff",value:(e=a(f.mark((function t(){var e;return f.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=Sr({},this.state),this._setState(),t.abrupt("return",this.trigger("logoff",e));case 3:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"_setState",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.state=t?Sr(Sr({},t),{},{expiresAt:new Date((new Date).getTime()+1e3*t.expiresIn),isAuthenticated:!0}):{isAuthenticated:!1}}},{key:"_checkAutoRefresh",value:function(){if(this._autoRefreshTimer&&clearTimeout(this._autoRefreshTimer),this._autoRefresh){var t=Math.abs(this.state.expiresAt-new Date)-6e4;this._autoRefreshTimer=setTimeout(this.refresh,t)}}}]),t}();g.injectInto(Tr.prototype);var Rr=function(){function t(){i(this,t),console.warn("This is a dummy-service")}return c(t,[{key:"login",value:function(){var t=a(f.mark((function t(e,r){return f.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.warn("Not implemented: login");case 1:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()},{key:"refresh",value:function(){var t=a(f.mark((function t(e){return f.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.warn("Not implemented: refresh");case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"resetPassword",value:function(){var t=a(f.mark((function t(e){return f.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.warn("Not implemented: resetPassword");case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}]),t}(),Pr={IdentityManager:Tr,DummyService:Rr};function _r(t,e,r){for(var n=new ArrayBuffer(t.length),u=new Uint8Array(n),a=0;a<t.length;a++)u[a]=t.charCodeAt(a);var o=new Blob([n],{type:r});return o.name=e,o}var Ur=function(t){if(!t||!t.includes("/"))return t;if(t.endsWith("/"))throw new Error("filename cannot end with a '/'");return Fe(t.split("/").filter((function(t){return t})))},Ir=function(){var t=a(f.mark((function t(e,r,n){return f.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){var u=new FileReader;u.onload=function(){return t(_r(u.result,r||e.name,n||e.type))},u.readAsBinaryString(e)})));case 1:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}(),Lr=function(){var t=a(f.mark((function t(e,r){var n,u,a,o;return f.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e);case 2:return n=t.sent,(u=n.headers.get("content-disposition"))&&-1!==u.indexOf("attachment")&&null!=(a=/filename[^;=\n]*=((['"]).*?\2|[^;\n]*)/.exec(u))&&a[1]&&(r=a[1].replace(/['"]/g,"")),t.next=7,n.blob();case 7:return o=t.sent,r&&(o.name=r),t.abrupt("return",o);case 10:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),Nr=function(){var t=a(f.mark((function t(e){return f.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){var r=new FileReader;r.onload=function(e){return t(e.target.result)},r.readAsDataURL(e)})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Mr=function(){var t=a(f.mark((function t(e){return f.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){var r=new FileReader;r.onload=function(e){return t(e.target.result)},r.readAsText(e)})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),qr={isFile:function(t){return null!=t&&t instanceof Blob},createUrl:function(t){return URL.createObjectURL(t)},revokeUrl:function(t){return URL.revokeObjectURL(t)},getFilename:Ur,getExtension:function(t){var e=t.split("."),r=je(e,1),n=Fe(r);return n?"."+n:""},getFilenameWithoutExtension:function(t){if(!t)return null;var e=Ur(t);if(!e.includes("."))return e;var r=e.split(".");return Ce(r,r.length-1||1).join(".")},toFormData:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.filesParameterName,u=void 0===n?"files":n,a=pe(e),o=xe(t).reduce((function(t,e){return t.append(u,e,e.name),t}),new FormData);return Object.entries(a).reduce((function(t,e){return t.append(e[0],e[1]),t}),o)},fileToBlob:Ir,base64ToBlob:function(t,e,r){var n=t.substr(0,100).includes(","),u=n?t.substr(t.indexOf(",")+1):t;!r&&n&&(r=t.substr(0,t.indexOf(",")).split(":")[1].split(";")[0]);var a=function(t,e){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:512,n=[],u=0;u<t.length;u+=r){for(var a=t.slice(u,u+r),o=new Array(a.length),i=0;i<a.length;i++)o[i]=a.charCodeAt(i);var s=new Uint8Array(o);n.push(s)}return new Blob(n,{type:e})}(atob(u),r);return a.name=e,a},urlToBlob:Lr,blobToBase64:Nr,readAllText:Mr,writeAllText:function(t,e,r){var n=new Blob([t],{type:r});return e&&(n.name=e),n},saveAs:function(t,e){var r=function(t){if(null==t||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))return null;var e=t.document,r=function(){return t.URL||t.webkitURL||t},n=e.createElementNS("http://www.w3.org/1999/xhtml","a"),u="download"in n,a=/constructor/i.test(t.HTMLElement)||t.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent),i=function(e){(t.setImmediate||t.setTimeout)((function(){throw e}),0)},s=function(t){setTimeout((function(){"string"==typeof t?r().revokeObjectURL(t):t.remove()}),4e4)},c=function(t,e,r){for(var n=(e=[].concat(e)).length;n--;){var u=t["on"+e[n]];if("function"==typeof u)try{u.call(t,r||t)}catch(t){i(t)}}},l=function(t){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob([String.fromCharCode(65279),t],{type:t.type}):t},f=function(e,i,f){f||(e=l(e));var p,h=this,d="application/octet-stream"===e.type,v=function(){c(h,"writestart progress write writeend".split(" "))};if(h.readyState=h.INIT,u)return p=r().createObjectURL(e),void setTimeout((function(){n.href=p,n.download=i,function(t){var e=new MouseEvent("click");t.dispatchEvent(e)}(n),v(),s(p),h.readyState=h.DONE}));!function(){if((o||d&&a)&&t.FileReader){var n=new FileReader;return n.onloadend=function(){var e=o?n.result:n.result.replace(/^data:[^;]*;/,"data:attachment/file;");t.open(e,"_blank")||(t.location.href=e),h.readyState=h.DONE,v()},n.readAsDataURL(e),void(h.readyState=h.INIT)}(p||(p=r().createObjectURL(e)),d)?t.location.href=p:t.open(p,"_blank")||(t.location.href=p);h.readyState=h.DONE,v(),s(p)}()},p=f.prototype;return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(t,e,r){return e=e||t.name||"download",r||(t=l(t)),navigator.msSaveOrOpenBlob(t,e)}:(p.abort=function(){},p.readyState=p.INIT=0,p.WRITING=1,p.DONE=2,p.error=p.onwritestart=p.onprogress=p.onwrite=p.onabort=p.onerror=p.onwriteend=null,function(t,e,r){return new f(t,e||t.name||"download",r)})}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window);return r(t,e||t.name||"file")},formatFileSize:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=e?1e3:1024;if(Math.abs(t)<n)return t+" B";var u=e?["kB","MB","GB","TB","PB","EB","ZB","YB"]:["KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],a=-1,o=Math.pow(10,r);do{t/=n,++a}while(Math.round(Math.abs(t)*o)/o>=n&&a<u.length-1);return t.toFixed(r)+" "+u[a]}};function zr(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Hr(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?zr(Object(r),!0).forEach((function(e){o(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zr(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var Jr=function(){function t(){i(this,t)}var e,r,u,o,s,l,p,h;return c(t,[{key:"getBlob",value:(h=a(f.mark((function t(e,r,n){var u;return f.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e instanceof File)){t.next=2;break}return t.abrupt("return",qr.fileToBlob(e,r,n));case 2:if(!(e instanceof Blob)){t.next=6;break}return u=e,r&&u.name!==r&&(u.name=r),t.abrupt("return",u);case 6:if("string"!=typeof e){t.next=10;break}if(!Vt(e)){t.next=9;break}return t.abrupt("return",qr.urlToBlob(e,r,n));case 9:return t.abrupt("return",qr.base64ToBlob(e,r,n));case 10:throw Error("Cannot convert input to type Blob");case 11:case"end":return t.stop()}}),t)}))),function(t,e,r){return h.apply(this,arguments)})},{key:"getBase64Url",value:(p=a(f.mark((function t(e){var r;return f.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getBlob(e);case 2:return r=t.sent,t.abrupt("return",qr.getBase64Url(r));case 4:case"end":return t.stop()}}),t,this)}))),function(t){return p.apply(this,arguments)})},{key:"createUrl",value:(l=a(f.mark((function t(e){var r;return f.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getBlob(e);case 2:return r=t.sent,t.abrupt("return",qr.blobToBase64(r));case 4:case"end":return t.stop()}}),t,this)}))),function(t){return l.apply(this,arguments)})},{key:"browse",value:(s=a(f.mark((function t(){var e,r=arguments;return f.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:{},t.abrupt("return",new Promise((function(t){var r=document.createElement("INPUT");r.setAttribute("type","file"),(null==e.multiple||e.multiple)&&r.setAttribute("multiple","true"),e.accept&&r.setAttribute("accept",Array.isArray(e.accept)?e.accept.join(","):e.accept),r.value="",r.setAttribute("style","display: none;"),r.addEventListener("change",(function e(){var u=n(this.files);r.removeEventListener("change",e),document.body.removeChild(r),t(u)})),document.body.appendChild(r),r.click()})));case 2:case"end":return t.stop()}}),t)}))),function(){return s.apply(this,arguments)})},{key:"readJson",value:(o=a(f.mark((function t(e){var r;return f.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,qr.readAllText(e);case 2:return r=t.sent,t.prev=3,t.abrupt("return",JSON.parse(r));case 7:throw t.prev=7,t.t0=t.catch(3),console.error("Could not parse blob to JSON",{blob:e,content:r,error:t.t0}),t.t0;case 11:case"end":return t.stop()}}),t,null,[[3,7]])}))),function(t){return o.apply(this,arguments)})},{key:"writeJson",value:(u=a(f.mark((function t(e,r){var n,u;return f.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=JSON.stringify(e,null,2),u=qr.writeAllText(n,r,"application/json"),t.abrupt("return",u);case 3:case"end":return t.stop()}}),t)}))),function(t,e){return u.apply(this,arguments)})},{key:"send",value:(r=a(f.mark((function t(e,r){var n,u,a,o,i,s,c=arguments;return f.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=c.length>2&&void 0!==c[2]?c[2]:{},u=c.length>3&&void 0!==c[3]?c[3]:{},a=qr.toFormData(r||[],n||{},u||{}),o=u.method,i=void 0===o?"POST":o,s=Hr({"Content-Type":"multipart/form-data"},u.headers||{}),t.abrupt("return",Nt({method:i,url:e,data:a,headers:s}));case 6:case"end":return t.stop()}}),t)}))),function(t,e){return r.apply(this,arguments)})},{key:"saveAs",value:(e=a(f.mark((function t(e,r){var n,u,a=arguments;return f.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.length>2&&void 0!==a[2]?a[2]:null,t.next=3,this.getBlob(e,n||e.name,r||e.type);case 3:return u=t.sent,t.abrupt("return",qr.saveAs(u,u.name||"file"));case 5:case"end":return t.stop()}}),t,this)}))),function(t,r){return e.apply(this,arguments)})}]),t}();function Wr(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=$e(t)););return t}function Gr(){return Gr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,r){var n=Wr(t,e);if(n){var u=Object.getOwnPropertyDescriptor(n,e);return u.get?u.get.call(arguments.length<3?t:r):u.value}},Gr.apply(this,arguments)}var Vr=function(t,e,r){return"#"+[t,e,r].map((function(t){return t.toString(16).padStart(2,"0")})).join("")},Kr=function(t,e){4===t.length&&(t="#"+xe(Wt(t,"#").toLowerCase()).reduce((function(t,e){return t+e+e}),""));var r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return r?{r:parseInt(r[1],16),g:parseInt(r[2],16),b:parseInt(r[3],16),a:null!=e?e:1}:null},$r=function(t,e){var r=Kr(t,e);return r?"rgba(".concat(r.r,", ").concat(r.g,", ").concat(r.b,", ").concat(r.a,")"):null},Zr=function(t,e){var r=Kr(t,e),n=r.r,u=r.g,a=r.b,o=r.a;return[n,u,a,void 0===o?1:o]},Yr=function t(e,r){if(Ee(e)){var n=ee(e,4),u=n[0],a=n[1],o=n[2],i=n[3],s=void 0===i?1:i;return"rgba(".concat(u,",").concat(a,",").concat(o,",").concat(s,")")}if("string"==typeof e){if(zt(e,"#"))return $r(e,r);if(zt(e,"rgba"))return e;if(zt(e,"rgb"))return t(Wt(e.substring("rgb".length),"()").split(","),r)}return null},Xr=function(t,e,r){var n=ee([t,e,r].map((function(t){return 255-t})),3);return{ri:n[0],gi:n[1],bi:n[2]}},Qr={rgbToHex:Vr,hexToRgb:Kr,hexToRgbString:$r,hexToRgbArray:Zr,getRgbString:Yr,invertRgb:Xr,invertHex:function(t){var e=Zr(t),r=Xr.apply(null,e);return Vr.apply(null,r)},grayscale:function(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"average",n=Ce(Zr(t),3);switch(r){case"light":var u=parseInt(.8*Be(n),10);e=[u,u,u];break;case"dark":var a=parseInt(De(n),10);e=[a,a,a];break;case"weight":var o=[.21,.72,.07],i=Se(n,(function(t,e){return parseInt(t*o[e],10)}));e=[i,i,i];break;default:var s=parseInt(Te(n),10);e=[s,s,s]}return Vr.apply(null,e)}},tn={jpg:"image/jpeg",png:"image/png",gif:"image/gif"},en=tn.jpg,rn=function(){var t=a(f.mark((function t(e){var r,n;return f.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ln(e);case 2:return r=t.sent,n=new FileReader,t.abrupt("return",new Promise((function(t){n.onloadend=function(e){for(var r,n=new Uint8Array(e.target.result).subarray(0,4),u="",a=0;a<n.length;a++)u+=n[a].toString(16);switch(u){case"89504e47":r=tn.png;break;case"47494638":r=tn.gif;break;case"ffd8ffe0":case"ffd8ffe1":case"ffd8ffe2":case"ffd8ffe3":case"ffd8ffe8":r=tn.jpg;break;default:r=void 0}t(r)},n.readAsArrayBuffer(r)})));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),nn=function(t){return(t||tn.jpg).replace("/jpg","/jpeg")},un=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{backgroundColor:"#ffffff",imageSmoothingEnabled:!1},n=window.document.createElement("canvas");return n.width=t,n.height=e,r&&an(n,r),n},an=function(t,e){var r=t.getContext("2d");return void 0!==e&&Object.keys(e).forEach((function(n){var u=e[n];if(null!==u)switch(n){case"backgroundColor":case"background-color":r.fillStyle=Yr(u),r.fillRect(0,0,t.width,t.height);break;case"image":r.drawImage(u,0,0);break;default:r[n]=u}})),r},on=function(t){an(t).clearRect(0,0,t.width,t.height)},sn=function(){var t=a(f.mark((function t(e){return f.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,r){var n=new Image;n.onload=function(){return t(n)},n.onerror=r,n.src=e})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),cn=function(){var t=a(f.mark((function t(e){return f.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",sn(qr.createUrl(e)));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),ln=function(){var t=a(f.mark((function t(e,r,n){var u;return f.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u=nn(n),t.abrupt("return",qr.urlToBlob(e.src,r,u));case 2:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}(),fn=function(){var t=a(f.mark((function t(e){var r,n,u=arguments;return f.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:en,n=u.length>2&&void 0!==u[2]?u[2]:1,t.abrupt("return",sn(e.toDataURL(r,n)));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),pn=function(t,e,r){var n=un(e||t.width,r||t.height);return an(n).drawImage(t,0,0,e||t.width,r||t.height),n},hn=function(){var t=a(f.mark((function t(e){var r,n,u=arguments;return f.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:en,n=u.length>2&&void 0!==u[2]?u[2]:1,t.abrupt("return",new Promise((function(t){return e.toBlob(t,r,n)})));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),dn=function(){var t=a(f.mark((function t(e){return f.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",sn(e));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),vn=function(){var t=a(f.mark((function t(e,r){var n,u,a,o,i,s,c,l,p,h=arguments;return f.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c=function(t,e,r){var n=un(t.width,t.height);return an(n,{"background-color":r===tn.png?"transparent":r===tn.jpg?"#FFF":null}).drawImage(t,0,0),s(n,e,r)},s=function(t,e,r){var n=e*e,u=t.width,a=t.height,o=Math.floor(u*e),i=Math.floor(a*e),s=0,c=0,l=0,f=0,p=0,h=0,d=0,v=0,g=0,y=0,m=0,b=0,w=0,E=0,A=0,x=!1,k=!1,F=an(t).getImageData(0,0,u,a).data,O=new Float32Array(3*o*i),C=0,j=0,D=0;for(c=0;c<a;c++)for(h=3*(g=0|(p=c*e))*o,(k=g!==(0|p+e))&&(E=g+1-p,A=p+e-g-1),s=0;s<u;s++,l+=4)d=h+3*(v=0|(f=s*e)),(x=v!==(0|f+e))&&(b=v+1-f,w=f+e-v-1),C=F[l],j=F[l+1],D=F[l+2],x||k?x&&!k?(y=b*e,O[d]+=C*y,O[d+1]+=j*y,O[d+2]+=D*y,m=w*e,O[d+3]+=C*m,O[d+4]+=j*m,O[d+5]+=D*m):k&&!x?(y=E*e,O[d]+=C*y,O[d+1]+=j*y,O[d+2]+=D*y,m=A*e,O[d+3*o]+=C*m,O[d+3*o+1]+=j*m,O[d+3*o+2]+=D*m):(y=b*E,O[d]+=C*y,O[d+1]+=j*y,O[d+2]+=D*y,m=w*E,O[d+3]+=C*m,O[d+4]+=j*m,O[d+5]+=D*m,m=b*A,O[d+3*o]+=C*m,O[d+3*o+1]+=j*m,O[d+3*o+2]+=D*m,m=w*A,O[d+3*o+3]+=C*m,O[d+3*o+4]+=j*m,O[d+3*o+5]+=D*m):(O[d]+=C*n,O[d+1]+=j*n,O[d+2]+=D*n);var B=un(o,i),S=an(B,{"background-color":r===tn.jpg?"#FFF":null}),T=S.getImageData(0,0,o,i),R=T.data,P=0;for(l=0,d=0;P<o*i;l+=3,d+=4,P++)R[d]=Math.ceil(O[l]),R[d+1]=Math.ceil(O[l+1]),R[d+2]=Math.ceil(O[l+2]),R[d+3]=255;return S.putImageData(T,0,0),B},n=h.length>2&&void 0!==h[2]?h[2]:{},u=n.quality,a=void 0===u?1:u,o=n.type,i=void 0===o?en:o,t.t0=nn,t.t1=i,t.t1){t.next=9;break}return t.next=8,rn(e);case 8:t.t1=t.sent;case 9:return t.t2=t.t1,l=(0,t.t0)(t.t2),p=c(e,r,l),t.abrupt("return",fn(p,l,a));case 13:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),gn=function(){var t=a(f.mark((function t(e,r){var n,u,a,o,i,s,c,l,p,h,d,v,g,y,m,b,w,E,A=arguments;return f.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=A.length>2&&void 0!==A[2]?A[2]:{},u=n.quality,a=void 0===u?1:u,o=n.type,i=void 0===o?en:o,s=e.width,c=e.height,l=Ee(r)?r:[r,r],p=ee(l,2),h=p[0],d=void 0===h?0:h,v=p[1],g=void 0===v?d:v,0==d&&(d=s*(g/c)),0==g&&(g=c*(d/s)),y=un(d,g),m=an(y,{imageSmoothingEnabled:!1}),w=un(s*(b=.5),c*b),an(w,{imageSmoothingEnabled:!1}).drawImage(w,0,0,s*b,c*b),m.drawImage(w,0,0,s*b,c*b,0,0,d,g),t.t0=nn,t.t1=i,t.t1){t.next=18;break}return t.next=17,rn(e);case 17:t.t1=t.sent;case 18:return t.t2=t.t1,E=(0,t.t0)(t.t2),t.abrupt("return",fn(y,E||tn.png,a));case 21:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),yn=function(){var t=a(f.mark((function t(e){var r,n,u,a,o,i,s,c,l,p,h,d,v,g=arguments;return f.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=g.length>1&&void 0!==g[1]?g[1]:1,n=g.length>2&&void 0!==g[2]?g[2]:en,u=r>0?90:r<0?-90:0,a=Math.max(e.width,e.height),o=e.naturalWidth,i=e.naturalHeight,s=0!==u?i:o,c=0!==u?o:i,t.t0=nn,t.t1=n,t.t1){t.next=14;break}return t.next=13,rn(e);case 13:t.t1=t.sent;case 14:return t.t2=t.t1,l=(0,t.t0)(t.t2),p=un(a,a),(h=an(p,{imageSmoothingEnabled:!1,"background-color":l===tn.jpg?"#FFF":null})).translate(p.width/2,p.height/2),h.rotate(u*Math.PI/180),h.translate(-p.width/2,-p.height/2),h.drawImage(e,(p.width-o)/2,(p.height-i)/2),d=h.getImageData((a-s)/2,(a-c)/2,s,c),v=un(s,c),an(v,{imageSmoothingEnabled:!1,"background-color":l===tn.jpg?"#FFF":null}).putImageData(d,0,0),t.abrupt("return",fn(v,l,1));case 27:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),mn=function(){var t=a(f.mark((function t(e,r,n){var u,a,o,i,s=arguments;return f.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(u=s.length>3&&void 0!==s[3]?s[3]:en,t.t0=nn,t.t1=u,t.t1){t.next=7;break}return t.next=6,rn(e);case 6:t.t1=t.sent;case 7:return t.t2=t.t1,a=(0,t.t0)(t.t2),o=pn(e),(i=an(o,{"background-color":a===tn.jpg?"#FFF":null})).translate(r?e.width:0,n?e.height:0),i.scale(r?-1:1,n?-1:1),on(o),i.drawImage(e,0,0),i.restore(),t.abrupt("return",fn(o,a,1));case 17:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}(),bn=function(){var t=a(f.mark((function t(e,r){var n;return f.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=un(e.width,e.height),an(n,{"background-color":r===tn.jpg?"#FFF":null}).drawImage(e,0,0),t.abrupt("return",fn(n,r,1));case 4:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),wn=function(){var t=a(f.mark((function t(e,r){var n,u,a,o,i,s,c;return f.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(n=e.width,u=e.height,a=pn(e),o=an(a),i=o.getImageData(0,0,n,u),s=i.data,0,1,2,3,c=0;c<s.length;c+=4)s[c+0]>=255-r&&s[c+1]>=255-r&&s[c+2]>=255-r&&(s[c+3]=0);return o.putImageData(i,0,0),t.abrupt("return",fn(a,tn.png,1));case 10:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),En={contentTypes:tn,getImageContentType:rn,parseContentType:nn,urlToImage:sn,blobToImage:cn,imageToBlob:ln,canvasToImage:fn,imageToCanvas:pn,canvasToBlob:hn,base64ToImage:dn,imageToBase64:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:en,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=pn(t);return n.toDataURL(e,r)},resizeByScale:vn,resize:gn,rotate:yn,flipFlop:mn,convertType:bn,getLightness:function(t){for(var e,r,n,u=0,a=pn(t),o=an(a).getImageData(0,0,a.width,a.height).data,i=0,s=o.length;i<s;i+=4)e=o[i],r=o[i+1],n=o[i+2],u+=Math.floor((e+r+n)/3);return Math.floor(u/(t.width*t.height))},white2transparent:wn};function An(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=$e(t);if(e){var u=$e(this).constructor;r=Reflect.construct(n,arguments,u)}else r=n.apply(this,arguments);return Ke(this,r)}}var xn=function(t){Ve(g,t);var e,r,n,u,o,s,l,p,h,d,v=An(g);function g(){return i(this,g),v.apply(this,arguments)}return c(g,[{key:"getImage",value:(d=a(f.mark((function t(e){return f.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e instanceof Image)){t.next=2;break}return t.abrupt("return",e);case 2:if("string"!=typeof e){t.next=4;break}return t.abrupt("return",En.urlToImage(e));case 4:if(!(e instanceof Blob)){t.next=6;break}return t.abrupt("return",En.blobToImage(e));case 6:if(!(e instanceof HTMLCanvasElement)){t.next=8;break}return t.abrupt("return",En.canvasToImage(e));case 8:throw Error("Cannot convert input to type Image");case 9:case"end":return t.stop()}}),t)}))),function(t){return d.apply(this,arguments)})},{key:"getBlob",value:(h=a(f.mark((function t(e,r,n){return f.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e instanceof Image)){t.next=4;break}return t.abrupt("return",En.imageToBlob(e,r,n));case 4:if(!(e instanceof HTMLCanvasElement)){t.next=6;break}return t.abrupt("return",En.canvasToBlob(e,r,n));case 6:return t.abrupt("return",Gr($e(g.prototype),"getBlob",this).call(this,e,r,n));case 7:case"end":return t.stop()}}),t,this)}))),function(t,e,r){return h.apply(this,arguments)})},{key:"resize",value:(p=a(f.mark((function t(e,r,n){var u;return f.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getImage(e);case 2:return u=t.sent,t.abrupt("return",En.resizeByScale(u,Math.min(1,r/Math.max(u.width,u.height)),n));case 4:case"end":return t.stop()}}),t,this)}))),function(t,e,r){return p.apply(this,arguments)})},{key:"rotate",value:(l=a(f.mark((function t(e,r){var n,u;return f.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=En.parseContentType(e.type),t.next=3,this.getImage(e);case 3:return u=t.sent,t.abrupt("return",En.rotate(u,r,n));case 5:case"end":return t.stop()}}),t,this)}))),function(t,e){return l.apply(this,arguments)})},{key:"flipHorizontally",value:(s=a(f.mark((function t(e){return f.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.flipFlop(e,!0));case 1:case"end":return t.stop()}}),t,this)}))),function(t){return s.apply(this,arguments)})},{key:"flipVertically",value:(o=a(f.mark((function t(e){return f.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.flipFlop(e,!1,!0));case 1:case"end":return t.stop()}}),t,this)}))),function(t){return o.apply(this,arguments)})},{key:"flipFlop",value:(u=a(f.mark((function t(e,r,n,u){var a;return f.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getImage(e);case 2:return a=t.sent,t.abrupt("return",En.flipFlop(a,r,n,u));case 4:case"end":return t.stop()}}),t,this)}))),function(t,e,r,n){return u.apply(this,arguments)})},{key:"convertType",value:(n=a(f.mark((function t(e,r){var n;return f.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getImage(e);case 2:return n=t.sent,t.abrupt("return",En.convertType(n,r));case 4:case"end":return t.stop()}}),t,this)}))),function(t,e){return n.apply(this,arguments)})},{key:"getLightness",value:(r=a(f.mark((function t(e){var r;return f.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getImage(e);case 2:return r=t.sent,t.abrupt("return",En.getLightness(r));case 4:case"end":return t.stop()}}),t,this)}))),function(t){return r.apply(this,arguments)})},{key:"white2transparent",value:(e=a(f.mark((function t(e){var r,n,u=arguments;return f.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:0,t.next=3,this.getImage(e);case 3:return n=t.sent,t.abrupt("return",En.white2transparent(n,r));case 5:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})}]),g}(Jr),kn={FileHelper:Jr,ImageHelper:xn};function Fn(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return On(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return On(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,u=function(){};return{s:u,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:u}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,i=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return o=t.done,t},e:function(t){i=!0,a=t},f:function(){try{o||null==r.return||r.return()}finally{if(i)throw a}}}}function On(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Cn=function(t){function e(t,r,n){i(this,e),this._value=t,this._parentNode=r,this._level=r?r.level+1:0,this._tree=n,this._children=[]}return c(e,[{key:"value",get:function(){return this._value}},{key:"parent",get:function(){return this._parentNode}},{key:"level",get:function(){return this._level}},{key:"children",get:function(){return this._children}},{key:"add",value:function(t){var r=new e(t,this,this._tree);return r._level=this.level+1,this._children.push(r),this._tree.push(r),r}},{key:"update",value:function(t){this._value=t}},{key:"getOffspring",value:function(){return this._tree.getOffspring(this)}},{key:"getAncestors",value:function(){return this._tree.getAncestors(this)}},{key:"getRoot",value:function(){return this._tree.getRoots(this)[0]}},{key:Symbol.iterator,value:f.mark((function t(){var e,r,n;return f.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=Fn(this.children),t.prev=1,e.s();case 3:if((r=e.n()).done){t.next=9;break}return n=r.value,t.next=7,n;case 7:t.next=3;break;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),e.e(t.t0);case 14:return t.prev=14,e.f(),t.finish(14);case 17:case"end":return t.stop()}}),t,this,[[1,11,14,17]])}))}]),e}();function jn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=$e(t);if(e){var u=$e(this).constructor;r=Reflect.construct(n,arguments,u)}else r=n.apply(this,arguments);return Ke(this,r)}}var Dn=function(t,e){Ve(u,t);var r=jn(u);function u(){var t;return i(this,u),(t=r.call(this)).roots=[],t}return c(u,[{key:"addValue",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.addValues([t],e)[0]}},{key:"addValues",value:function(t){var e=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!r){var u,a=t.map((function(t){return new Cn(t,null,e)}));return this.push.apply(this,n(a)),(u=this.roots).push.apply(u,n(a)),a}return t.map((function(t){return r.add(t)}))}},{key:"getNodes",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(void 0===t)return n(this);Ae(t)||(t=[t]);var e=xe(t);return this.filter((function(t){return e.includes(t.value)}))}},{key:"getRoots",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!t)return n(this.roots);var e=(t=this._ensureNodeList(t)).map((function(t){for(var e=t;e.parent;)e=e.parent;return e}));return Oe(e)}},{key:"getAncestors",value:function(t){var e=(t=this._ensureNodeList(t)).flatMap((function t(e){return e.parent?[e.parent].concat(t(e.parent)):[]}));return Oe(e)}},{key:"getOffspring",value:function(t){return(t=this._ensureNodeList(t)).flatMap((function t(e){return e.children.length>0?[].concat(n(e.children),n(e.children.flatMap(t))):[]}))}},{key:"getValues",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return(t=this._ensureNodeList(t)).map((function(t){return t.value}))}},{key:"_ensureNodeList",value:function(t){return t instanceof Cn?[t]:t||this}}],[{key:e,get:function(){return Array}}]),u}(Xe(Array),Symbol.species);var Bn={arrayUtility:Re,colorUtility:Qr,datetimeUtility:Ne,fileUtility:qr,htmlUtility:ne,httpUtility:ie,imageUtility:En,numberUtility:ye,objectUtility:de,promiseUtility:He,stringUtility:Xt,clipboardUtility:function(t){return navigator.clipboard?navigator.clipboard.writeText(t):function(t){var e=document.createElement("textarea");e.value=t,e.style.top="0",e.style.left="0",e.style.position="fixed",document.body.appendChild(e),e.focus(),e.select();var r=document.execCommand("copy");return document.body.removeChild(e),Promise.resolve(r)}(t)}},Sn={entities:ce,events:le,extensions:We,firebase:Dr,identity:Pr,io:kn,TreeList:Dn,utilities:Bn};t.TreeList=Dn,t.default=Sn,t.entities=ce,t.events=le,t.extensions=We,t.firebase=Dr,t.identity=Pr,t.io=kn,t.utilities=Bn}));
//# sourceMappingURL=regira.min.js.map
